# Сайт tg-text.ru

Проект сайта для домена tg-text.ru

## Структура проекта

- `index.html` - главная страница сайта
- `nginx_tg-text.ru.conf` - конфигурация nginx для сервера
- `deploy.ps1` / `deploy.bat` - скрипт для автоматического деплоя на сервер (включает функции отката)
- `post-receive` - Git hook для автоматического обновления сайта на сервере
- `SSL/` - SSL сертификаты для домена

## Быстрый старт

### Обновление сайта

Для обновления сайта на сервере просто выполните:

```powershell
.\deploy.ps1
```

Или через батник (двойной клик):
```
.\deploy.bat
```

Или вручную через Git:

```powershell
git add .
git commit -m "Описание изменений"
git push production main
```

Сайт обновится автоматически без прерывания работы благодаря Git hook!

### Откат на одну версию назад

Если нужно откатить проект на одну версию назад:

```powershell
.\deploy.ps1 -RollbackBack
```

Скрипт покажет текущую и предыдущую версию и выполнит откат с автоматической отправкой на сервер.

### Возврат к последней версии (откат вперед)

Если нужно вернуться к последней версии после отката назад:

```powershell
.\deploy.ps1 -RollbackForward
```

Скрипт найдет последнюю версию в истории (до отката) и вернет проект к ней с автоматической отправкой на сервер.

## Сервер

- **IP:** 45.153.70.209
- **Домен:** tg-text.ru
- **ОС:** Arch Linux
- **Web сервер:** Nginx
- **Путь на сервере:** /var/www/tg-text.ru/public_html

## Особенности

✅ Автоматический деплой через Git без прерывания работы сайта  
✅ SSL/HTTPS поддержка  
✅ Graceful reload nginx (без обрыва соединений)  
✅ Современные настройки безопасности  

## Команды

```powershell
# Проверить статус Git
git status

# Посмотреть историю коммитов
git log --oneline

# Обычный деплой
.\deploy.ps1

# Откат на одну версию назад
.\deploy.ps1 -RollbackBack

# Возврат к последней версии (после отката)
.\deploy.ps1 -RollbackForward

# Отправить изменения на сервер вручную
git push production main
```
