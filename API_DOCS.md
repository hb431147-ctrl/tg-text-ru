# API Документация

## Text Processor API

API для обработки текста: перемешивание слов и исключение указанных слов и их однокоренных вариантов.

### Базовый URL

```
https://tg-text.ru/api
```

### Endpoints

#### 1. Обработка текста

**POST** `/api/process`

Обрабатывает текст: перемешивает слова и исключает указанные слова и их однокоренные варианты.

**Запрос:**

```json
{
  "text": "привет мир тест",
  "exclude_words": "привет"
}
```

**Параметры:**
- `text` (string, обязательный) - текст для обработки
- `exclude_words` (string, опциональный) - слова для исключения через запятую

**Ответ (успех):**

```json
{
  "result": "мир тест"
}
```

**Ответ (ошибка):**

```json
{
  "error": "Текст не может быть пустым"
}
```

**Примеры использования:**

```bash
# cURL
curl -X POST https://tg-text.ru/api/process \
  -H "Content-Type: application/json" \
  -d '{"text":"привет мир тест","exclude_words":"привет"}'

# Python
import requests

response = requests.post(
    'https://tg-text.ru/api/process',
    json={
        'text': 'привет мир тест',
        'exclude_words': 'привет'
    }
)
print(response.json())

# JavaScript
fetch('https://tg-text.ru/api/process', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    text: 'привет мир тест',
    exclude_words: 'привет'
  })
})
.then(response => response.json())
.then(data => console.log(data));
```

#### 2. Проверка работоспособности

**GET** `/api/health`

Проверяет работоспособность API.

**Ответ:**

```json
{
  "status": "ok",
  "service": "text-processor"
}
```

### Особенности

- **Перемешивание слов**: Используется алгоритм Фишера-Йетса для случайного перемешивания
- **Исключение слов**: Исключаются указанные слова и их однокоренные варианты
- **Определение корня**: Упрощенный алгоритм определения корня русского слова
- **Сохранение структуры**: Сохраняются пробелы и знаки препинания

### Коды ответов

- `200` - Успешная обработка
- `400` - Неверный запрос (пустой текст, неверный формат данных)
- `500` - Внутренняя ошибка сервера

### CORS

API поддерживает CORS и может использоваться из браузера.

